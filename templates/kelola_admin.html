{% extends 'baseadmin.html' %} 
{% block title %} 
Kelola Admin 
{% endblock %} 
{% block content %}
  
  <div class="container text-center mb-5">
    <div class="container text-start">
      <h3>Kelola Admin</h3>
      <br />
    </div>
    <div class="container text-start mt-2">
      <div class="row g-2" style="width: 100%">
        <a
          href="#"
          data-bs-toggle="modal"
          data-bs-target="#tambahAdmin"
          class="btn btn-outline-primary"
          >Tambah Admin</a
        >
      </div>
    </div>
    <div class="container border rounded mt-2">
      <div
        class="text-start mt-2 mb-2 d-flex flex-wrap flex-row grid gap-3"
        id="container-card"
      >
        {% for admin in admins %}
        <div class="card" style="width: 100%">
          <div class="card-body">
            <div class="container text-center">
              <div
                class="row align-items-center justify-content-center text-start"
              >
                <div class="col-md-5 d-flex justify-content-start">
                  {{ admin.nama }}
                </div>
                <div class="col-md-5">{{ admin.email }}</div>
                <div class="col-md-2 d-flex justify-content-end">
                  <a
                    href="#"
                    data-bs-toggle="modal"
                    data-bs-target="#editAdmin{{ admin._id }}"
                    class="btn btn-outline-primary material-symbols-outlined"
                    >edit_square</a
                  >
                  <a
                    href="{{ url_for('hapusAdmin', admin_id=admin._id) }}"
                    class="btn btn-primary material-symbols-outlined ms-2"
                    >delete</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Edit Admin Modal -->
        <div
          class="modal fade mt-5"
          id="editAdmin{{ admin._id }}"
          tabindex="-1"
          aria-labelledby="editAdminLabel{{ admin._id }}"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="editAdminLabel{{ admin._id }}">
                  Edit Admin
                </h1>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <form
                  action="{{ url_for('updateAdmin', admin_id=admin._id) }}"
                  method="POST"
                >
                  <div class="container text-center mb-5" style="width: 100%">
                    <div
                      class="text-start mb-2 d-flex flex-wrap flex-column grid gap-3 p-2"
                      id="container-card"
                    >
                      <div class="mb-3" style="width: 100%">
                        <label for="emailAdmin{{ admin._id }}" class="form-label"
                          >Email Admin</label
                        >
                        <input
                          type="email"
                          class="form-control"
                          id="emailAdmin{{ admin._id }}"
                          name="email"
                          value="{{ admin.email }}"
                        />
                      </div>
                      <div class="mb-3" style="width: 100%">
                        <label for="namaAdmin{{ admin._id }}" class="form-label"
                          >Nama Admin</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="namaAdmin{{ admin._id }}"
                          name="nama"
                          value="{{ admin.nama }}"
                        />
                      </div>
                      <div class="mb-3" style="width: 100%">
                        <label for="noAdmin{{ admin._id }}" class="form-label"
                          >Nomor Handphone</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="noAdmin{{ admin._id }}"
                          name="notlp"
                          value="{{ admin.notlp }}"
                        />
                      </div>
                      <div class="text-start mb-3" style="width: 100%">
                        <label for="alamatAdmin{{ admin._id }}" class="form-label"
                          >Alamat</label
                        >
                        <textarea
                          class="form-control"
                          id="alamatAdmin{{ admin._id }}"
                          name="alamat"
                          rows="3"
                        >
  {{ admin.alamat }}</textarea
                        >
                      </div>
                      <div class="text-center" style="width: 100%">
                        <button
                          type="button"
                          class="btn btn-outline-primary"
                          data-bs-dismiss="modal"
                          aria-label="Close"
                        >
                          Batal
                        </button>
                        <button type="submit" class="btn btn-primary">
                          Simpan
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
  
  <!-- Tambah Admin Modal -->
  <div
    class="modal fade mt-5"
    id="tambahAdmin"
    tabindex="-1"
    aria-labelledby="tambahAdminLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="tambahAdminLabel">Tambah Admin</h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form action="{{ url_for('tambahAdmin') }}" method="POST">
            <div class="container text-center mb-5" style="width: 100%">
              <div
                class="text-start mb-2 d-flex flex-wrap flex-column grid gap-3 p-2"
                id="container-card"
              >
                <div class="mb-3" style="width: 100%">
                  <label for="emailAdminTambah" class="form-label"
                    >Email Admin</label
                  >
                  <input
                    type="email"
                    class="form-control"
                    id="emailAdminTambah"
                    name="email"
                    placeholder="Email Admin"
                    value=""
                  />
                </div>
                <div class="mb-3" style="width: 100%">
                  <label for="namaAdminTambah" class="form-label"
                    >Nama Admin</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="namaAdminTambah"
                    name="nama"
                    placeholder="Nama Admin"
                    value=""
                  />
                </div>
                <div class="mb-3" style="width: 100%">
                  <label for="noAdminTambah" class="form-label"
                    >Nomor Handphone</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="noAdminTambah"
                    name="notlp"
                    placeholder="Nomor Admin"
                    value=""
                  />
                </div>
                <div class="text-start mb-3" style="width: 100%">
                  <label for="alamatAdminTambah" class="form-label">Alamat</label>
                  <textarea
                    class="form-control"
                    id="alamatAdminTambah"
                    name="alamat"
                    rows="3"
                    placeholder="Alamat Admin"
                  ></textarea>
                </div>
                <div class="text-center" style="width: 100%">
                  <button
                    type="button"
                    class="btn btn-outline-primary"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  >
                    Batal
                  </button>
                  <button type="submit" class="btn btn-primary">Simpan</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  
  {% endblock %}
  